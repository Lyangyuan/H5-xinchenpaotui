<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="../css/mui.min.css" rel="stylesheet" />
		<script src="../js/mui.min.js"></script>
		<script src="js/app.js"></script>
		<script type="text/javascript">
			mui.init()
		</script>
	</head>

	<body>
		<header class="mui-bar mui-bar-nav">
			<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
			<h1 class="mui-title">用户注册</h1>
		</header>
		<div class="mui-content">
			<form class="mui-input-group" style="width: 95%;margin: auto;margin-top: 5px;">
				<div class="mui-input-row">
					<label>账号</label>
					<input id="user_id" type="text" class="mui-input-clear mui-input" placeholder="请输入账号">
				</div>
				<div class="mui-input-row">
					<label>密码</label>
					<input id='password' type="password" class="mui-input-clear mui-input" placeholder="请输入密码">
				</div>
				<div class="mui-input-row">
					<label>确认</label>
					<input id='password_confirm' type="password" class="mui-input-clear mui-input" placeholder="请确认密码">
				</div>
				<div class="mui-input-row">
					<label>邮箱</label>
					<input id='email' type="email" class="mui-input-clear mui-input" placeholder="请输入邮箱">
				</div>
				<div class="mui-input-row">
					<label>电话+86</label>
					<input id='phone' type="email" class="mui-input-clear mui-input" placeholder="请输入电话">
				</div>
				<div class="mui-input-row">
					<label>地址</label>
					<input id='address' type="email" class="mui-input-clear mui-input" placeholder="请输入电话">
				</div>

			</form>
			<div class="mui-content-padded">
				<button id='reg' class="mui-btn mui-btn-block mui-btn-primary">注册</button>
			</div>
			<div id="erroinfo" class="erroinfo" style="color: red;text-align: center;">

			</div>
		</div>
		<script>
			mui.plusReady();
			document.getElementById("reg").addEventListener("tap", function() {
				var user_id = document.getElementById("user_id").value;
				var pass = document.getElementById("password").value;
				var pass_confirm = document.getElementById("password_confirm").value;
				var email = document.getElementById("email").value;
				var phone = document.getElementById("phone").value;
				var address = document.getElementById("address").value;
				var erroinfo = document.getElementById("erroinfo");
				if(user_id == "" || user_id == null) {
					erroinfo.innerHTML = "账号不能为空";
				} else if(pass == "" || pass == null) {
					erroinfo.innerHTML = "密码不能为空";
				} else if(pass.length <= 6) {
					erroinfo.innerHTML = "密码长度不能小于6位";
				} else if(pass_confirm == "" || pass_confirm == null) {
					erroinfo.innerHTML = "请再次输入密码";
				} else if(pass != pass_confirm) {
					erroinfo.innerHTML = "两次输入密码不一致，请重新输入";
					document.getElementById("password_confirm").value = "";
				} else if(email == "" || email == null) {
					erroinfo.innerHTML = "请输入邮箱";
				} else if(email.indexOf("@") <= 0 || email.indexOf(".com") <= 0) {
					erroinfo.innerHTML = "请输入正确的邮箱格式：xxxxxxx@xxx.com";
					document.getElementById("email").value = "";
				} else if(phone == "" || phone == null) {
					erroinfo.innerHTML = "请输入电话号码";
				} else if(address == "" || address == null) {
					erroinfo.innerHTML = "地址不能为空";
				} else {
					alert("注册成功！");
					mui.openWindow({
						url: "../index.html",
						id: "index",
					});
				}
			});
		</script>
	</body>

</html>